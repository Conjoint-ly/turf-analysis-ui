# Поток данных

---

## Параметры

**`tabs`**  
Тип: массив

Пример объекта для одного `tab`, следующие параметры должны присутствовать:

```json
	{
		"name": "name",
		"title": "Title of tab",
		"predefined": true
	}
```

Свойство `predefined` необязательное и определяет, может ли быть модифицирован текщий таб (удален, переименован или скопирован).

**`current`**  
Тип: строка

Строка по которой определяется активный таб, сравнивается с `name` объекта из массива `tabs`.

**`canModyfy`**  
Тип: логическое

Истинное значение активирует интерфейс изменения табов (добавить, удаленить, переименовывать и копировать таб).

## События

**`tabSet`**  
Параметры: строка

Выбрать таб по имени.

**`tabAdd`**  
Параметры: -

Добавить новый таб. Компонент не выполняет переключение на новый таб, это должно реализовываться в быть реализовано родительском компоненте.

**`tabCopy`**  
Параметры: строка

Скопировать таб по имени. Компонент не выполняет переключение скопированный таб, это должно быть реализовывано в родительском компоненте

**`tabRename`**  
Параметры: объект

Таб переименовывается по клику на заголовок активного таба (используется contenteditable), в объекте передается имя таба и новый заголовок:

```json
	{
		"name": "first",
		"title": "New title"
	}
```

Новое название применяется при потере фокуса (кликнуть в любом месте кроме текста) или клавише Enter. Если новое название совпадает с прежним, то событие не посылается. Отмена происходит по клавише Esc, при этом событие не посылается, а заголовок возвращается в исходному значению.

**`tabRemove`**  
Параметры: строка

Удалить таб по имени. Компонент не выполняет переключение таба при удалении, это должно быть реализовывано в родительском компоненте, например:

```javascript
	(name) => {
		// получить индекс таба, который будет удален
		let index = this.tabs.findIndex(item => item.name === name);

		if (this.tabs[index + 1] !== undefined) {
			// если это не последний таб, то переключиться на следующий
			this.current = this.tabs[index + 1].name;
		} else if (index === 0) {
			// если это единственный таб, то ничего не делать
			void 0;
		} else {
			// если это последний таб, то переключиться на предыдущий
			this.current = this.tabs[index - 1].name;
		}
	}
```

**`tabMove`**  
Параметры: массив

Переместить таб, в параметре перадается упорядоченный массив имен табов, которые не являются `predefined`. Компонент не выполняет перемещение табов, это должно быть реализовывано в родительском компоненте, например:

```javascript
	// this.tabs - исходный массив табов
	(names) => {
		this.tabs = [
			// взять predefined табы
			...this.tabs.filter(tab => tab.predefined),
			// взять не predefined табы в порядке, который был передан
			...names.map(name => this.tabs.find(tab => tab.name === name))
		];
	}
```

Перемещать можно только не `predefined` табы.

# Слоты

---

**`newTabIcon`**

Иконка для добавления нового таба, значение по умолчанию:

```html
<i class="far fa-plus"></i>
```

**`newTabText`**

Текст для добавления нового таба, значение по умолчанию:

```html
Add new
```
